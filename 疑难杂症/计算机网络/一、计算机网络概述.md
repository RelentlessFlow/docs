# 一、计算机网络概述

[toc]

## 一、概述

### 1. 计算机网络

```
计算机网络主要是通过一些通用的、可编程的硬件互联而成，通过这些硬件，可以传送不同类型的数据，并且可以支持广泛和日益增长的应用。
```

### 2. 网络的作用范围

广域网(WAN) ：几十到几千公里；跨省跨国
城域网(MAN) ：5km~50km；城市间
局域网(LAN)：1km以内；地区间

## 二、计算机网络的发展简史

### 1. 互联网的发展历史

- 第一个阶段单个网络ARPANET

- 第二个阶段三层结构的互联网，主要还是有美国使用互联网的,

- 第三个阶段isp网络服务提供商(中国电信,中国联通中国移动)，

- 中国的主干isp可以连接美国isp及其他国家-地区isp服务公司校园家庭

- isp通过海底电缆将全球的网络连接起来

### 2. 中国互联网发展简史
- 1980年互联网实验
- 1989年第一个公共网络运行
- 1994年接入国际互联网

**中国最大的五个公共计算机网络**

- 中国电信互联网CHINANET
- 中国联通互联网UNINET
- 中国移动互联网CMNET
- 中国教育与科研计算机网CERNET
- 中国科学技术网CSTNET

## 三、计算机网络层次结构

### 1. 层次结构的基本设计原则

- 保证数据通路顺畅
- 识别目的计算机
- 目的计算机的状态
- 数据是否错误
- 分层实现不同功能
- 各层之间是相互独立的
- 每一层要足够的灵活性
- 各层之间完全解耦

### 2. OSI七层模型

- 应用层:为计算机用户提供接口和服务，用户对计算机的操作
- 表示层:用来为数据进行加密解密、编码解码等
- 会话层:管理计算机之间的通信会话，包括建立连接、维护连接、错误重连等等
- 传输层:管理端对端的通信连接
- 网络层:数据路由(决定数据在网络中的路径)，即寻找数据通信的目的地
- 数据链路层:管理相邻节点之间的数据通信
- 物理层:数据通信的光电物理学特性，就是一些连接网络的硬件设备


(注:网络层和数据链路层的区别在于，网络层管理整个通信过程中的路径，而数据链路层值管理相邻节点之间的数据通信)

### 3. TCP/IP四层模型

(OSI应用层、表示层、会话层)应用层、传输层、网络层、(OS|数据链路层、物理层)网络接口层

- 应用层：HTTP FTP SMTP POP3 ...

- 传输层：TCP UDP

- 网络层：IP
- 网络接口层：Ethernet PPP 

## 四、计算机网络性能指标

- 速率: bps = bit/s

- **发送时延**=数据长度(bit) / 发送速率(bit/s) 发送请求时本机停留的时间，数据长度是由用户发送的数据大小决定的，发送速率则受限于计算机网卡

- 传播时延=传输路径距离/传播速率(bps) ，传输路径距离是用户与请求的服务器之间的距离，传播速率是由传输介质决定的

- 排队时延:数据包在网络设备中等待被处理的时间，数据传输到网络设备后，网络设备不- 定会及时处理数据,这个等待的时间就是排队时延

- 处理时延:数据包到达设备或者目的机器被处理所需要的时间

- 总时延=发送时延+传播时延+排队时延+处理时延往返时间

- RTT: RTT(Route-TripTime) 是评估网络质量的一项重要指标; RTT表示的是数据报文在端到端通信中的来回一次的时间;

- 通常使用ping命令查看RTT

## 五、物理层概述

### 1. 信道基本概念

- 信道是往一个方法传送信息的媒体。
- 一个通信电路包含一个接受信道和一个发送信道。

**半双工通信信道**

- 双方都可以发送和接受细腻下
- 不能双方同时发送，也不能同时接受

**全双工通信信道**

- 双方都可以同时发送和接受信息

### 2. 分用-复用技术

频分复用	时分复用	波分复用	码分复用

<img src="https://md-1304276643.cos.ap-beijing.myqcloud.com//PicGo/image-20220319225524061.png" alt="image-20220319225524061" style="zoom:40%;" />

## 六、数据链路层概述

### 1. 封装成帧

- “帧”是数据链滤层数据的基本单位
- 发送端在网络层的一段数据前后添加特定标记形成“帧”
- 接受端根据前后特定标记识别出“帧”

<img src="https://md-1304276643.cos.ap-beijing.myqcloud.com//PicGo/image-20220319230113457.png" alt="image-20220319230113457" style="zoom:40%;" />

SOH：00000001

EOH：00000100

### 2. 透明传输

<img src="https://md-1304276643.cos.ap-beijing.myqcloud.com//PicGo/image-20220319230554933.png" alt="image-20220319230554933" style="zoom:40%;" />

### 3. 差错检测

- 物理层只管传输比特流，无法控制是否出错
- 数据链路层负责起“差错检测”的工作

## 七、差错检测

- 奇偶校验吗
- 循环冗余校验吗CRC

### 1. 奇偶校验码

奇偶校验码：通过在比特流尾部添加一位比特位，来检测比特流是否出错，只能判断比特流是否为奇数或偶数

### 2. 循环冗余校验码CRC

一种根据传输或保存的数据而产生固定位数校验码的方法
检测数据传输或者保存后可能出现的错误
生成的数字计算出来并且附加到数据后面选定一个用于校验的多项式G(x)，并在数据尾部添加r个0
将添加r个0后的数据，使用模"2"除法除以多项式的位串
得到的余数填充在原数据r个0的位置得到可校验的位串

## 八、MTU最大传输单元

- 最大传输单元MTU(Maximum Transmission Unit)
- 数据链路层的数据帧不是无限大的
- 数据帧过大或过小都会影响传输的效率
- 以太网MTU般为1500字节
- 路径MTU由链路中MTU的最小值决定

## 九、以太网协议

### 1. Mac地址

- 每个设备都拥有唯一的Mac地址
- 48位，十六进制表示

### 2. 以太网协议

- 以太网(Ethernet)是- -种使用广泛的局域网技术
- 以太网是一-种应用于数据链路层的协议
- 使用以太网可以完成相邻设备的数据帧传输

<img src="https://md-1304276643.cos.ap-beijing.myqcloud.com//PicGo/image-20220320002349849.png" alt="image-20220320002349849" style="zoom:40%;" />

##### 以太网数据传输流程

- A通过网卡发出数据帧
- 数据帧到达路由器，路由器取出前6字节
- 路由器匹配MAC地址表，找到对应的网络接口
- 路由器往该网络接口发送数据帧

##### Mac地址没有C的信息

- E检查MAC地址表，发现没有C的信息
- E将广播A的数据包到除A以外的端口
- E将收到来自B、C的回应，并将地址记录

